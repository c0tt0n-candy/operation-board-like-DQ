<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title>さくせん</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="../css/style.css" />
<script th:src="@{../js/jquery/jquery.js}"></script>

<script type="text/javascript">
$(document).ready(function(){
	var checkNum = $("#operationNum").val();
	if(checkNum != ""){
		document.getElementsByName("number")[checkNum].checked = true;
	}
});

	$(function() {
		$("input[name='number']").change(function() {
			var num = $('[name=number]:checked').val();
			$("#operationForm").attr("action", $("#operationForm").attr("action")+"?number"+num);
			$("#operationForm").trigger("submit");
		});
	});


</script>
</head>

<body>
	<div id="background">
		<p id="ope" align="center">さくせん</p>
		<div id="line">
			<form id="operationForm" method="post" action="/today">
				<table id="tab">
					<tr>
						<td><input type="radio" name="number" value="0"
							class="check" /></td>
						<td class="DQ">みんながんばれ</td>
					</tr>
					<tr>
						<td><input type="radio" name="number" value="1"
							class="check" /></td>
						<td class="DQ">ガンガンいこうぜ</td>
					</tr>
					<tr>
						<td><input type="radio" name="number" value="2"
							class="check" /></td>
						<td class="DQ">テストをだいじに</td>
					</tr>
					<tr>
						<td><input type="radio" name="number" value="3"
							class="check" /></td>
						<td class="DQ">いろいろやろうぜ</td>
					</tr>
				</table>
			</form>
		</div>
	</div>

	<!-- 選択したさくせんのnumberを受け取る -->
	<input type="hidden" id="operationNum" th:value="${number}" />

	<div>
		<h2>さくせん一覧</h2>
		<table>
			<tr>
				<td>日付</td>
				<td>さくせん</td>
			</tr>
			<tr th:each="opeHis:${history}">
				<td th:text="${opeHis.created}" />
				<td th:text="${opeHis.content}" />
			</tr>
		</table>
	</div>

</body>
</html>